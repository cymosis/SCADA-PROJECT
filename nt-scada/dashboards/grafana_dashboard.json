[
  {
    "dashboard": {
      "id": null,
      "title": "P1_STATE - Raw Water",
      "schemaVersion": 36,
      "version": 1,
      "refresh": "10s",
      "panels": [
        {
          "type": "timeseries",
          "title": "Raw Water Tank Level (LIT101)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P1_STATE == 3) |> filter(fn:(r) => r._field == \"LIT101.Pv\")","refId":"A"}],
          "gridPos": {"x":0,"y":0,"w":12,"h":6}
        },
        {
          "type": "timeseries",
          "title": "Raw Water Flow (FIT101)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P1_STATE == 3) |> filter(fn:(r) => r._field == \"FIT101.Pv\")","refId":"B"}],
          "gridPos": {"x":12,"y":0,"w":12,"h":6}
        },
        {
          "type": "timeseries",
          "title": "Raw Water Pumps & Valve Status (P101, P102, MV101)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P1_STATE == 3) |> filter(fn:(r) => r._field =~ /P101\\.Status$|P102\\.Status$|MV101\\.Status$/)","refId":"C"}],
          "gridPos": {"x":0,"y":6,"w":12,"h":6}
        },
        {
          "type": "table",
          "title": "Raw Water Alarms (LS201, LS202, LSL203)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P1_STATE == 3) |> filter(fn:(r) => r._field =~ /LS201\\.Alarm$|LS202\\.Alarm$|LSL203\\.Alarm$/)","refId":"D"}],
          "gridPos": {"x":12,"y":6,"w":12,"h":6}
        }
      ]
    }
  },
  {
    "dashboard": {
      "id": null,
      "title": "P2_STATE - Chemical Dosing",
      "schemaVersion": 36,
      "version": 1,
      "refresh": "10s",
      "panels": [
        {
          "type": "timeseries",
          "title": "Chemical Flow & Tank Levels (FIT201, AIT201-203)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P2_STATE == 2) |> filter(fn:(r) => r._field =~ /FIT201\\.Pv$|AIT201\\.Pv$|AIT202\\.Pv$|AIT203\\.Pv$/)","refId":"A"}],
          "gridPos": {"x":0,"y":0,"w":12,"h":6}
        },
        {
          "type": "timeseries",
          "title": "Chemical Dosing Pumps Status (P201-P208)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P2_STATE == 2) |> filter(fn:(r) => r._field =~ /P201\\.Status$|P202\\.Status$|P203\\.Status$|P204\\.Status$|P205\\.Status$|P206\\.Status$|P207\\.Status$|P208\\.Status$/)","refId":"B"}],
          "gridPos": {"x":12,"y":0,"w":12,"h":6}
        },
        {
          "type": "table",
          "title": "Chemical Dosing Alarms (LSLL203)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P2_STATE == 2) |> filter(fn:(r) => r._field =~ /LSLL203\\.Alarm$/)","refId":"C"}],
          "gridPos": {"x":0,"y":6,"w":24,"h":6}
        }
      ]
    }
  },
  {
    "dashboard": {
      "id": null,
      "title": "P3_STATE - Ultrafiltration",
      "schemaVersion": 36,
      "version": 1,
      "refresh": "10s",
      "panels": [
        {
          "type": "timeseries",
          "title": "UF Tank Level (LIT301)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P3_STATE == 1) |> filter(fn:(r) => r._field == \"LIT301.Pv\")","refId":"A"}],
          "gridPos": {"x":0,"y":0,"w":12,"h":6}
        },
        {
          "type": "timeseries",
          "title": "UF Flows & Pressures (AIT301-303, DPIT301)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P3_STATE == 1) |> filter(fn:(r) => r._field =~ /AIT301\\.Pv$|AIT302\\.Pv$|AIT303\\.Pv$|DPIT301\\.Pv$/)","refId":"B"}],
          "gridPos": {"x":12,"y":0,"w":12,"h":6}
        },
        {
          "type": "timeseries",
          "title": "UF Pumps & Valves (P301-P302, MV301-MV304)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P3_STATE == 1) |> filter(fn:(r) => r._field =~ /P301\\.Status$|P302\\.Status$|MV301\\.Status$|MV302\\.Status$|MV303\\.Status$|MV304\\.Status$/)","refId":"C"}],
          "gridPos": {"x":0,"y":6,"w":12,"h":6}
        },
        {
          "type": "table",
          "title": "UF Alarms (PSH301, DPSH301)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P3_STATE == 1) |> filter(fn:(r) => r._field =~ /PSH301\\.Alarm$|DPSH301\\.Alarm$/)","refId":"D"}],
          "gridPos": {"x":12,"y":6,"w":12,"h":6}
        }
      ]
    }
  },
  {
    "dashboard": {
      "id": null,
      "title": "P4_STATE - Dechlorination",
      "schemaVersion": 36,
      "version": 1,
      "refresh": "10s",
      "panels": [
        {
          "type": "timeseries",
          "title": "Dechlorination Tank Level (LIT401)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P4_STATE == 4) |> filter(fn:(r) => r._field == \"LIT401.Pv\")","refId":"A"}],
          "gridPos": {"x":0,"y":0,"w":12,"h":6}
        },
        {
          "type": "timeseries",
          "title": "Dechlorination Flow (FIT401, AIT401-402)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P4_STATE == 4) |> filter(fn:(r) => r._field =~ /FIT401\\.Pv$|AIT401\\.Pv$|AIT402\\.Pv$/)","refId":"B"}],
          "gridPos": {"x":12,"y":0,"w":12,"h":6}
        },
        {
          "type": "timeseries",
          "title": "Dechlorination Pumps & UV Status (P401-P404, UV401)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P4_STATE == 4) |> filter(fn:(r) => r._field =~ /P401\\.Status$|P402\\.Status$|P403\\.Status$|P404\\.Status$|UV401\\.Status$/)","refId":"C"}],
          "gridPos": {"x":0,"y":6,"w":12,"h":6}
        },
        {
          "type": "table",
          "title": "Dechlorination Alarms (LS401)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P4_STATE == 4) |> filter(fn:(r) => r._field =~ /LS401\\.Alarm$/)","refId":"D"}],
          "gridPos": {"x":12,"y":6,"w":12,"h":6}
        }
      ]
    }
  },
  {
    "dashboard": {
      "id": null,
      "title": "P5_STATE - RO",
      "schemaVersion": 36,
      "version": 1,
      "refresh": "10s",
      "panels": [
        {
          "type": "timeseries",
          "title": "RO Flows (FIT501-504)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P5_STATE == 12) |> filter(fn:(r) => r._field =~ /FIT501\\.Pv$|FIT502\\.Pv$|FIT503\\.Pv$|FIT504\\.Pv$/)","refId":"A"}],
          "gridPos": {"x":0,"y":0,"w":12,"h":6}
        },
        {
          "type": "timeseries",
          "title": "RO Pressures (AIT501-504, PIT501-503)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P5_STATE == 12) |> filter(fn:(r) => r._field =~ /AIT501\\.Pv$|AIT502\\.Pv$|AIT503\\.Pv$|AIT504\\.Pv$|PIT501\\.Pv$|PIT502\\.Pv$|PIT503\\.Pv$/)","refId":"B"}],
          "gridPos": {"x":12,"y":0,"w":12,"h":6}
        },
        {
          "type": "timeseries",
          "title": "RO Pumps & Valves (P501-P502, MV501-MV504)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P5_STATE == 12) |> filter(fn:(r) => r._field =~ /P501\\.Status$|P502\\.Status$|MV501\\.Status$|MV502\\.Status$|MV503\\.Status$|MV504\\.Status$/)","refId":"C"}],
          "gridPos": {"x":0,"y":6,"w":12,"h":6}
        },
        {
          "type": "table",
          "title": "RO Alarms (PSH501, PSL501)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P5_STATE == 12) |> filter(fn:(r) => r._field =~ /PSH501\\.Alarm$|PSL501\\.Alarm$/)","refId":"D"}],
          "gridPos": {"x":12,"y":6,"w":12,"h":6}
        }
      ]
    }
  },
  {
    "dashboard": {
      "id": null,
      "title": "P6_STATE - RO Permeate Transfer / UF Backwash",
      "schemaVersion": 36,
      "version": 1,
      "refresh": "10s",
      "panels": [
        {
          "type": "timeseries",
          "title": "Permeate Flow (FIT601)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P6_STATE == 2) |> filter(fn:(r) => r._field == \"FIT601.Pv\")","refId":"A"}],
          "gridPos": {"x":0,"y":0,"w":12,"h":6}
        },
        {
          "type": "timeseries",
          "title": "Permeate / Backwash Pumps (P601-P603)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P6_STATE == 2) |> filter(fn:(r) => r._field =~ /P601\\.Status$|P602\\.Status$|P603\\.Status$/)","refId":"B"}],
          "gridPos": {"x":12,"y":0,"w":12,"h":6}
        },
        {
          "type": "table",
          "title": "Permeate / Backwash Alarms (LSH601-603, LSL601-603)",
          "datasource": "InfluxDB",
          "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P6_STATE == 2) |> filter(fn:(r) => r._field =~ /LSH601\\.Alarm$|LSL601\\.Alarm$|LSH602\\.Alarm$|LSL602\\.Alarm$|LSH603\\.Alarm$|LSL603\\.Alarm$/)","refId":"C"}],
          "gridPos": {"x":0,"y":6,"w":24,"h":6}
        }
      ]
    }
  }
]

{
  "dashboard": {
    "id": null,
    "title": "NT-SCADA Equipment Monitoring",
    "schemaVersion": 36,
    "version": 1,
    "refresh": "10s",
    "panels": [
      {
        "type": "text",
        "title": "P1 - Raw Water",
        "content": "<h2>Tank Levels</h2>",
        "gridPos": {"x":0,"y":0,"w":24,"h":2}
      },
      {
        "type": "timeseries",
        "title": "Raw Water Tank Level (LIT101)",
        "datasource": "InfluxDB",
        "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P1_STATE == 3) |> filter(fn:(r) => r._field == \"LIT101.Pv\")","refId":"A"}],
        "gridPos": {"x":0,"y":2,"w":12,"h":4}
      },
      {
        "type": "timeseries",
        "title": "Raw Water Flow (FIT101)",
        "datasource": "InfluxDB",
        "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P1_STATE == 3) |> filter(fn:(r) => r._field == \"FIT101.Pv\")","refId":"B"}],
        "gridPos": {"x":12,"y":2,"w":12,"h":4}
      },
      {
        "type": "text",
        "title": "Pumps & Valves",
        "content": "<h2>Pumps & Valve Status</h2>",
        "gridPos": {"x":0,"y":6,"w":24,"h":2}
      },
      {
        "type": "timeseries",
        "title": "Raw Water Pumps & Valve Status (P101, P102, MV101)",
        "datasource": "InfluxDB",
        "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P1_STATE == 3) |> filter(fn:(r) => r._field =~ /P101\\.Status$|P102\\.Status$|MV101\\.Status$/)","refId":"C"}],
        "gridPos": {"x":0,"y":8,"w":24,"h":4}
      },
      {
        "type": "text",
        "title": "Alarms",
        "content": "<h2>Alarms</h2>",
        "gridPos": {"x":0,"y":12,"w":24,"h":2}
      },
      {
        "type": "table",
        "title": "Raw Water Alarms (LS201, LS202, LSL203)",
        "datasource": "InfluxDB",
        "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P1_STATE == 3) |> filter(fn:(r) => r._field =~ /LS201\\.Alarm$|LS202\\.Alarm$|LSL203\\.Alarm$/)","refId":"D"}],
        "gridPos": {"x":0,"y":14,"w":24,"h":4}
      },
      {
        "type": "text",
        "title": "P2 - Chemical Dosing",
        "content": "<h2>Flows & Pressures</h2>",
        "gridPos": {"x":0,"y":18,"w":24,"h":2}
      },
      {
        "type": "timeseries",
        "title": "Chemical Flow & Tank Levels (FIT201, AIT201-203)",
        "datasource": "InfluxDB",
        "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P2_STATE == 2) |> filter(fn:(r) => r._field =~ /FIT201\\.Pv$|AIT201\\.Pv$|AIT202\\.Pv$|AIT203\\.Pv$/)","refId":"E"}],
        "gridPos": {"x":0,"y":20,"w":12,"h":4}
      },
      {
        "type": "text",
        "title": "Pumps",
        "content": "<h2>Pumps Status</h2>",
        "gridPos": {"x":0,"y":24,"w":24,"h":2}
      },
      {
        "type": "timeseries",
        "title": "Chemical Dosing Pumps (P201-P208)",
        "datasource": "InfluxDB",
        "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P2_STATE == 2) |> filter(fn:(r) => r._field =~ /P201\\.Status$|P202\\.Status$|P203\\.Status$|P204\\.Status$|P205\\.Status$|P206\\.Status$|P207\\.Status$|P208\\.Status$/)","refId":"F"}],
        "gridPos": {"x":0,"y":26,"w":24,"h":4}
      },
      {
        "type": "text",
        "title": "Alarms",
        "content": "<h2>Alarms</h2>",
        "gridPos": {"x":0,"y":30,"w":24,"h":2}
      },
      {
        "type": "table",
        "title": "Chemical Dosing Alarms (LSLL203)",
        "datasource": "InfluxDB",
        "targets": [{"query":"from(bucket:\"scada_data_v2\") |> range(start:1970-01-01T00:00:00Z) |> filter(fn:(r) => r.P2_STATE == 2) |> filter(fn:(r) => r._field =~ /LSLL203\\.Alarm$/)","refId":"G"}],
        "gridPos": {"x":0,"y":32,"w":24,"h":4}
      }
    ]
  },
  "overwrite": true
}
